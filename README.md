# The_Farm_Web_App

## Описание проекта

Данный проект представляет собой систему управления молочной фермой. Приложение разработано с использованием **Spring Boot** и предоставляет функционал для управления коровами, молоком, продуктами и их распределением.

---

## Архитектура проекта

Проект разделен на модули с четким разделением обязанностей. Основные компоненты:

### 1. **Контроллеры**
Обрабатывают HTTP-запросы и связывают их с сервисами.
- `WelcomeController` - главная страница.
- `MenuController` - работа с меню.
- `MilkController` - управление доением.
- `ProductController` - управление продуктами.
- `DistributeController` - распределение продукции.
- `AddController` - добавление коров.
- `WarehouseController` - управление складом.

### 2. **Сервисы**
Содержат бизнес-логику, такие как расчет доступного молока, доение коров и создание продуктов.
- Основной сервис: `FarmService`.

### 3. **Репозитории**
Работа с базой данных с использованием Spring Data JPA.
- `CowRepository`: работа с коровами.
- `MilkRecordRepository`: записи о доении.
- `ProductRepository`: данные о продуктах.
- `DistributionRepository`: информация о распределении продуктов.

### 4. **Сущности**
Определяют бизнес-модели для базы данных.
- `Cow` - коровы.
- `MilkRecord` - записи о доении.
- `Product` - продукты.
- `Distribution` - распределение продукции.

### 5. **Конфигурация**
- `AppConfig`: настройка Spring MVC и подключение интерцепторов.
- `LogInterceptor`: логирование всех запросов.

---

## Технологии проекта

- **Java 21** - основное рабочее окружение.
- **Spring Boot** - основной фреймворк.
- **Spring Data JPA** - взаимодействие с базой данных.
- **Hibernate** - ORM.
- **Lombok** - упрощение кода (автоматизация геттеров/сеттеров).
- **Database** - база данных для хранения информации.
- **Thymeleaf** - шаблонизатор для работы с фронтендом.

---

## Основной функционал

### 1. Учет коров
- **Добавление коров**: страница `/add` позволяет указать суточное количество молока для новой коровы.
- **Просмотр всех коров**: доступно на странице `/all`.

### 2. Доение
- **Доение одной коровы**: доение конкретной коровы по ID доступно через `/milk/onecow`.
- **Массовое доение**: доение всех коров сразу через `/milk/allcows`.

### 3. Управление молоком
- Автоматический расчет текущего доступного молока.

### 4. Управление продуктами
- **Просмотр списка продуктов**: доступен на странице `/products`. Также отображается объем доступного молока.
- **Добавление новых продуктов**: через страницу `/products/add`.

### 5. Склад
- Просмотр текущих продуктов на складе через `/warehouse`.
- Удаление продуктов через страницу `/delete`.

### 6. Распределение продукции
- **Просмотр распределения**: `/distribute`, где отображаются история распределений и текущая продукция.
- **Распределение новых продуктов по потребителям**.

### 7. Статические ресурсы
Доступ к изображениям и видео вроде `danceCow.mp4` через маршруты:
- `/static/danceCow.mp4` - показывает видео.

---

## Запуск проекта

### 1. Установка зависимостей
Для корректной работы убедитесь, что установлены:
- **JDK 21**.
- **Maven** или **Gradle**, если используется для сборки.

### 2. Запуск
Выполните следующую команду:
```bash
mvn spring-boot:run
```
Или запустите `Main` из любой поддерживаемой IDE.

### 3. Доступ к приложению
Откройте в браузере [http://localhost:8080](http://localhost:8080).

---
## Логирование

Приложение использует **SLF4J и Logback** для логирования. Все запросы логируются через `LogInterceptor`.

Примеры логируемой информации:
- Запросы страниц.
- Ошибки при выполнении операций.
- Подробная информация о действиях пользователя.

---
